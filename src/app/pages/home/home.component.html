<div class="home-page">
  <!-- Controles de lectura -->
  <div class="reading-controls">
    <div class="controls-group">
      <label>Modo de lectura:</label>
      <div class="mode-buttons">
        <button 
          [class.active]="readingMode === 'single'" 
          (click)="setReadingMode('single')"
          title="PÃ¡gina Ãºnica">
          ğŸ“„
        </button>
        <button 
          [class.active]="readingMode === 'double'" 
          (click)="setReadingMode('double')"
          title="PÃ¡gina doble">
          ğŸ“–
        </button>
        <button 
          [class.active]="readingMode === 'continuous'" 
          (click)="setReadingMode('continuous')"
          title="Lectura continua">
          ğŸ“
        </button>
      </div>
    </div>

    <div class="controls-group">
      <label>Ajustes rÃ¡pidos:</label>
      <div class="quick-settings">
        <button (click)="decreaseFontSize()" title="Reducir tamaÃ±o">A-</button>
        <span class="font-size-display">{{ fontSize }}px</span>
        <button (click)="increaseFontSize()" title="Aumentar tamaÃ±o">A+</button>
        
        <select [(ngModel)]="fontFamily" (change)="setFontFamily(fontFamily)" title="Familia de fuente">
          <option value="Georgia">Georgia</option>
          <option value="Merriweather">Merriweather</option>
          <option value="Libre Baskerville">Libre Baskerville</option>
        </select>

        <button (click)="toggleTextAlign()" title="Alinear texto">
          {{ textAlign === 'left' ? 'â¬…ï¸' : 'â¬Œ' }}
        </button>
      </div>
    </div>
  </div>

  <!-- Ãrea central de lectura -->
  <div class="reading-container" [class.single-mode]="readingMode === 'single'" 
       [class.double-mode]="readingMode === 'double'" 
       [class.continuous-mode]="readingMode === 'continuous'">
    
    <!-- Modo pÃ¡gina Ãºnica -->
    <div *ngIf="readingMode === 'single'" class="reading-area single-page" 
         #readingArea
         [style.font-size.px]="fontSize"
         [style.font-family]="fontFamily"
         [style.line-height]="lineHeight"
         [style.text-align]="textAlign">
      <div class="page-content" [innerHTML]="bookContent"></div>
    </div>

    <!-- Modo pÃ¡gina doble -->
    <div *ngIf="readingMode === 'double'" class="reading-area double-page">
      <div class="page-navigation">
        <button (click)="previousPage()" [disabled]="currentPage === 1">â†</button>
        <span>{{ currentPage }} / {{ totalPages }}</span>
        <button (click)="nextPage()" [disabled]="currentPage === totalPages">â†’</button>
      </div>
      <div class="pages-container">
        <div class="page left-page" 
             [style.font-size.px]="fontSize"
             [style.font-family]="fontFamily"
             [style.line-height]="lineHeight"
             [style.text-align]="textAlign">
          <div class="page-content" [innerHTML]="bookContent"></div>
        </div>
        <div class="page right-page"
             [style.font-size.px]="fontSize"
             [style.font-family]="fontFamily"
             [style.line-height]="lineHeight"
             [style.text-align]="textAlign">
          <div class="page-content" [innerHTML]="bookContent"></div>
        </div>
      </div>
    </div>

    <!-- Modo lectura continua -->
    <div *ngIf="readingMode === 'continuous'" class="reading-area continuous-page"
         [style.font-size.px]="fontSize"
         [style.font-family]="fontFamily"
         [style.line-height]="lineHeight"
         [style.text-align]="textAlign">
      <div class="page-content" [innerHTML]="bookContent"></div>
    </div>
  </div>

  <!-- MenÃº contextual de selecciÃ³n -->
  <div *ngIf="showContextMenu" 
       class="context-menu" 
       #contextMenu
       [style.left.px]="contextMenuX"
       [style.top.px]="contextMenuY">
    <button (click)="copyText()" class="context-btn">
      ğŸ“‹ Copiar
    </button>
    <div class="highlight-options">
      <span>Resaltar:</span>
      <button (click)="highlightText('yellow')" class="highlight-btn yellow" title="Amarillo">ğŸŸ¨</button>
      <button (click)="highlightText('green')" class="highlight-btn green" title="Verde">ğŸŸ©</button>
      <button (click)="highlightText('blue')" class="highlight-btn blue" title="Azul">ğŸŸ¦</button>
      <button (click)="highlightText('pink')" class="highlight-btn pink" title="Rosa">ğŸ©·</button>
      <button (click)="highlightText('gray')" class="highlight-btn gray" title="Gris">â¬œ</button>
    </div>
    <button (click)="addNote()" class="context-btn">
      ğŸ“ AÃ±adir nota
    </button>
    <button (click)="saveQuote()" class="context-btn">
      ğŸ’¾ Guardar cita
    </button>
  </div>
</div>
